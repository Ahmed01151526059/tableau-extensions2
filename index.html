<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Simple Dashboard Extension</title>

  <link rel="stylesheet" href="styles.css" />

  <!-- âœ… Tableau Extensions API (official, stable URL) -->
  <script src="https://tableau.github.io/extensions-api/lib/tableau.extensions.1.latest.js"></script>

  <!-- Chart.js for charts -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
  <div id="app">
    <header>
      <h1>Simple Dashboard Extension</h1>
      <div>
        <span id="user-name" style="margin-right: 12px; font-size: 12px; color: #ccc;">
          User: (not initialized)
        </span>
        <span id="status-text">Initializing extension...</span>
      </div>
    </header>

    <main>
      <!-- LEFT PANEL: worksheet + data + dashboard builder -->
      <section id="left-panel">
        <div class="card">
          <h2>1. Select Worksheet</h2>
          <label for="worksheet-select">Worksheet</label>
          <select id="worksheet-select"></select>
          <button id="btn-load-data">Load Data</button>
          <p class="info-text" id="data-info"></p>
        </div>

        <div class="card">
          <h2>2. Data Preview</h2>
          <div id="table-container"></div>
        </div>

        <div class="card">
          <h2>3. Dashboard Builder</h2>
          <p class="small-text">
            Choose X (category), Y (numeric or blank for count) and chart type for each of up to 4 charts.
          </p>

          <div id="charts-config">
            <!-- Chart config panels will be added here by JS -->
          </div>

          <button id="btn-generate-dashboard" class="primary">
            Generate Dashboard
          </button>
        </div>
      </section>

      <!-- RIGHT PANEL: rendered charts -->
      <section id="right-panel">
        <div class="card">
          <h2>Charts</h2>
          <div id="dashboard-container">
            <!-- Chart canvases will be added here by JS -->
          </div>
        </div>
      </section>
    </main>
  </div>

  <script src="app.js"></script>
</body>
</html>
